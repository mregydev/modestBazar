@if (product(); as currentProduct) {
  <div class="checkout">
    <h1>Checkout</h1>

    <div class="checkout-content">
      <div class="order-summary">
        <div class="main-product-card">
          <h2>Main Product</h2>
          <div class="product-summary">
            <img [src]="currentProduct.images[0]" [alt]="currentProduct.name" />
            <div class="summary-info">
              <h3>{{ currentProduct.name }}</h3>
              <p class="brand">{{ currentProduct.brand }}</p>
              <p class="price">{{ currentProduct.price }} EGP</p>
            </div>
          </div>
        </div>

        @if (extras().length > 0) {
          <div class="extras-section">
            <h2>Styling Items</h2>
            <div class="extras-list">
              @for (extra of extras(); track extra.id) {
                <div class="extra-item">
                  <img [src]="extra.images[0]" [alt]="extra.name" />
                  <div class="extra-info">
                    <p class="extra-name">{{ extra.name }}</p>
                    <p class="extra-price">{{ extra.price }} EGP</p>
                  </div>
                </div>
              }
            </div>
          </div>
        }

        <div class="total-section">
          <p class="total-label">Total:</p>
          <p class="total-amount">
            {{ total() }} EGP
          </p>
        </div>
      </div>

      <div class="contact-section">
        <h2>Contact Us</h2>
        <p class="contact-description">Choose your preferred way to complete your order:</p>
        <div class="contact-buttons">
          <a [href]="buildWhatsAppUrl()" target="_blank" class="contact-button whatsapp">
            Contact via WhatsApp
          </a>
          <a [href]="buildMessengerUrl()" target="_blank" class="contact-button messenger">
            Contact via Messenger
          </a>
        </div>
      </div>
    </div>
  </div>
} @else {
  <div class="no-product">
    <p>No product selected yet.</p>
    <a routerLink="/">Back to products</a>
  </div>
}

